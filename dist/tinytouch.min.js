!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.tinytouch=n():t.tinytouch=n()}(this,function(){return function(t){function n(o){if(e[o])return e[o].exports;var u=e[o]={exports:{},id:o,loaded:!1};return t[o].call(u.exports,u,u.exports,n),u.loaded=!0,u.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.CANCEL=n.UP=n.DOWN_MOVE=n.MOVE=n.DOWN=void 0;var u=e(1),i=o(u),r=function(t){return function(n,e){t.addEventListener(n,e)}},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,n=new i["default"],e={},o=r(t),u=null,c=function(t,o){return n.on(t,o),e},h=function(t,o){return n.once(t,o),e},p=function(t,o){return n.off(t,o),e},v=function(t){var n=t.offsetX,e=t.offsetY;return{source:t,x:n,y:e,dx:u?n-u.x:0,dy:u?e-u.y:0,type:"Mouse"}},m=function(t){var n=t.target.getBoundingClientRect(),e=t.touches.length>0?t.touches[0]:t.changedTouches[0],o=e.clientX-n.left,i=e.clientY-n.top;return{source:t,x:o,y:i,dx:u?o-u.x:0,dy:u?i-u.y:0,type:"Touch"}};o("mousedown",function(t){u=v(t),n.emit(f,u)}),o("touchstart",function(t){u=m(t),n.emit(f,u)});var x=function(t){n.emit(s,t),u&&n.emit(l,t)};return o("mousemove",function(t){return x(v(t))}),o("touchmove",function(t){return x(m(t))}),o("mouseup",function(t){n.emit(d,v(t)),u=null}),o("touchend",function(t){n.emit(d,m(t)),u=null}),o("mouseout",function(t){n.emit(a,v(t)),u=null}),o("touchcancel",function(t){n.emit(a,m(t)),u=null}),e.on=c,e.once=h,e.off=p,e};n["default"]=c;var f=n.DOWN="down",s=n.MOVE="move",l=n.DOWN_MOVE="downMove",d=n.UP="up",a=n.CANCEL="cancel"},function(t,n){function e(){}e.prototype={on:function(t,n,e){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:n,ctx:e}),this},once:function(t,n,e){function o(){u.off(t,o),n.apply(e,arguments)}var u=this;return o._=n,this.on(t,o,e)},emit:function(t){var n=[].slice.call(arguments,1),e=((this.e||(this.e={}))[t]||[]).slice(),o=0,u=e.length;for(o;u>o;o++)e[o].fn.apply(e[o].ctx,n);return this},off:function(t,n){var e=this.e||(this.e={}),o=e[t],u=[];if(o&&n)for(var i=0,r=o.length;r>i;i++)o[i].fn!==n&&o[i].fn._!==n&&u.push(o[i]);return u.length?e[t]=u:delete e[t],this}},t.exports=e}])});