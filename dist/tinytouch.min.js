!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.tinytouch=n():t.tinytouch=n()}(this,function(){return function(t){function n(o){if(e[o])return e[o].exports;var u=e[o]={exports:{},id:o,loaded:!1};return t[o].call(u.exports,u,u.exports,n),u.loaded=!0,u.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.CANCEL=n.UP=n.DOWN_MOVE=n.MOVE=n.DOWN=void 0;var u=e(1),r=o(u),i=function(t){return function(n,e){t.addEventListener(n,e)}},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,n=new r["default"],e={},o=i(t),u=null,c=null,h=function(t,o){return n.on(t,o),e},p=function(t,o){return n.once(t,o),e},v=function(t,o){return n.off(t,o),e},m=function(){return!!u},x=function(t,n,e,o){var r=c||u;return{source:t,x:n,y:e,dx:r?n-r.x:0,dy:r?e-r.y:0,tx:u?n-u.x:0,ty:u?e-u.y:0,type:o}},y=function(t){var n=t.offsetX,e=t.offsetY;return x(t,n,e,"Mouse")},g=function(t){var n=t.target.getBoundingClientRect(),e=t.touches.length>0?t.touches[0]:t.changedTouches[0],o=e.clientX-n.left,u=e.clientY-n.top;return x(t,o,u,"Touch")},O=function(t){u=t,n.emit(f,t)},M=function(t){c=t,n.emit(s,t),m()&&n.emit(l,t)},_=function(t){n.emit(d,t),u=null,c=null},E=function(t){n.emit(a,t),u=null,c=null};return o("mousedown",function(t){return O(y(t))}),o("touchstart",function(t){return O(g(t))}),o("mousemove",function(t){return M(y(t))}),o("touchmove",function(t){return M(g(t))}),o("mouseup",function(t){return _(y(t))}),o("touchend",function(t){return _(g(t))}),o("mouseout",function(t){return E(y(t))}),o("touchcancel",function(t){return E(g(t))}),e.on=h,e.once=p,e.off=v,e};n["default"]=c;var f=n.DOWN="down",s=n.MOVE="move",l=n.DOWN_MOVE="downMove",d=n.UP="up",a=n.CANCEL="cancel"},function(t,n){function e(){}e.prototype={on:function(t,n,e){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:n,ctx:e}),this},once:function(t,n,e){function o(){u.off(t,o),n.apply(e,arguments)}var u=this;return o._=n,this.on(t,o,e)},emit:function(t){var n=[].slice.call(arguments,1),e=((this.e||(this.e={}))[t]||[]).slice(),o=0,u=e.length;for(o;u>o;o++)e[o].fn.apply(e[o].ctx,n);return this},off:function(t,n){var e=this.e||(this.e={}),o=e[t],u=[];if(o&&n)for(var r=0,i=o.length;i>r;r++)o[r].fn!==n&&o[r].fn._!==n&&u.push(o[r]);return u.length?e[t]=u:delete e[t],this}},t.exports=e}])});